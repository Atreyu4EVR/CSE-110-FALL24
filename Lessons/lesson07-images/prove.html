<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="../site/style.css" />
    <title>CSE 110 - Course Materials</title>
</head>
<body>
    <header id="courseTitle">
        <span class="icon-byui-logo"></span>
        <h1>CSE 110 | Programming Building Blocks</h1>
    </header>
    <article>
        <h1>07 Prove: Assignment Milestone</h1>

        <p><strong>Regarding Milestones and Assignments:</strong> Just as with the previous lessons, the Prove assignments for Lessons 07 and 08 will be working toward completing the same assignment. At the end of Lesson 07, you will complete part of the overall program, and then finish it in Lesson 08.</p>

        <p>Read over the full requirements first. Then, at the bottom of this page, you'll see which features are required for the milestone at the end of Lesson 07.</p>

        <h2>Overview</h2>
        <p>Recall from the preparation material that digital images can be stored as a collection of pixel values. One of the things that computers are really good at is applying the same process over and over again. When it comes to the pixels of an image, if there were a process or rule or series of steps that you defined for one pixel, you could then have the computer "loop through" each pixel in the image and apply it to each one. For example, you could have the program loop through each pixel and add a certain amount to the red value of every pixel. This would add an overall red color to the image in general.</p>

        <p>For example, consider the following image:</p>

        <img src="./images/beach.jpg" alt="Beach" style="width:300px; display:block; margin-left:auto; margin-right:auto;">

        <p>If the red value of each pixel was increased, it would look as follows:</p>

        <img src="./images/beach_red.jpg" alt="Beach with Red Filter" style="width:300px; display:block; margin-left:auto; margin-right:auto;">

        <h2>Project Description</h2>

        <p>For this project, you will use this idea of looping, or iterating, through each pixel in an image to produce a green screen effect.</p>

        <p>For a green screen effect, you will start with an image that has someone or something in front of a green background such as the following:</p>

        <img src="./images/cactus.jpg" alt="Cactus" style="width:300px; display:block; margin-left:auto; margin-right:auto;">

        <p>Then, you take a second image that has a scene or background in it (for example, a beach or forest) such as the following:</p>

        <img src="./images/beach.jpg" alt="Beach" style="width:300px; display:block; margin-left:auto; margin-right:auto;">

        <p>The goal is to take the item from the first picture and insert it over the top of the scene in the second picture. As you might expect, in high-end movie or image editing software there are sophisticated rules around identifying and blending the edges, etc., but the basic idea is that you want the computer to go through all the pixels from the first image. If the pixel is not green, you want to keep it, but if it is green, you want to use the corresponding pixel value from the other image.</p>

        <p>This could produce an image such as the following:</p>

        <img src="./images/cactus_on_beach.jpg" alt="Cactus on the beach" style="width:300px; display:block; margin-left:auto; margin-right:auto;">

        <h2>Assignment</h2>

        <p>In order to complete this assignment, you need to successfully work through a number of different problems, including:</p>

        <ol>
            <li><p>Downloading and saving image files</p></li>
            <li><p>Installing and using a Python library</p></li>
            <li><p>Opening an image file</p></li>
            <li><p>Iterating through the pixels of an image</p></li>
            <li><p>Using <code>if</code> statements to make decisions about how to handle each pixel</p></li>
            <li><p>Producing a new image file and saving it to your computer</p></li>
        </ol>

        <aside class="stay-middle"><heading>Note from Instructor:</heading>
            <p>To complete this assignment, you may need to push through some technical challenges along the way, especially related to installing libraries. Working through these is important for a few reasons:</p>
            <p>1. It enables us to do something cool for this assignment!</p>
            <p>2. You'll be prepared to install other libraries in the future, which you'll make use of for other courses and in other projects outside of school.</p>
            <p>3. Learning a little bit more about how your computer is configured, where files are stored, etc., will be valuable to you, as you start to perform more complex tasks down the road&mdash;for this class, or for other things you'll do.</p>
            <p>With this in mind, if you run into trouble, don't be discouraged, but make sure to reach out for help. It will be worth it for you in the end!</p>
        </aside>

        <p>For the milestone deliverable due at the end of Lesson 07, you need to have the library working and use it to open and display an image and retrieve and update some pixel values (no loops yet).</p>

        <p>For the final deliverable at the end of Lesson 08, you need to complete the other parts of the project for the full green screen effect.</p>

        <h3>Downloading and Saving Image Files</h3>
        <p>A set of sample images for you to use for this project can be downloaded here:</p>

        <ul>
            <li><p><a href="cse110_images.zip">cse110_images.zip</a></p></li>
        </ul>

        <p>Please download that zip file, extract the images from it and copy them to a folder on your computer where you want to work with them, and where you will create your Python file.</p>

        <h3>Installing and using a Python Library</h3>
        <p>Please refer back to the instructions in the <a href="./prepare.html#working_with_images">preparation material</a> about installing the Pillow library.</p>

        <p>To verify that you have installed the library correctly. Start a new python program and include the following code:</p>

<pre><code class="python">
from PIL import Image
print("The library is loaded correctly")
</code></pre>

        <p>Run the program like you would any other Python program. If it runs, and displays, "The library is loaded correctly" without producing any error messages, you'll know that everything is installed and working correctly.</p>

        <p>If you see error messages, you'll have to keep working to get it installed. Sometimes this takes a little bit of work to get exactly right, so please try it early and ask for help if you run into problems.</p>

        <h3>Opening an Image File</h3>
        <p>Once you have installed the image library, you can use it to open an image. If everything is set up and running correctly, the Python code is as simple as:</p>

<pre><code class="python">
# This line imports or includes the library we will need
from PIL import Image

# This line opens the image and loads it into a variable called "image_original"
image_original = Image.open("beach.jpg")

# This line attempts to open a new window to display the image.
image_original.show()
</code></pre>

        <p>There is a potential problem with the code above, and that is, it expects the image file, "beach.jpg" to be in the same place where you are running your Python command. This may already be the case for you, but it's possible that you are running Python from one location but your pictures are stored in another.</p>

        <p>One of the easiest ways to make it so that VS Code is running in the folder or directory you expect is to have it "open the folder" where you want it to run. To do this, in VS Code, select File menu and choose "Open Folder" (Windows) or  "Open..." (macOS) and then browse to and open the <em>folder</em> that will contain both your Python program and your image files. Then, when you click the green play button to run your program, Python will be running in that folder by default.</p>

        <p>If you aren't sure how to open a folder in VS Code rather than a file, please watch the following video to learn more about it:</p>

        <ul>
            <li><p>Video: <a href="https://video.byui.edu/media/Files+and+Folders+in+VS+Code/0_8ssxhdae" target="_blank">Folders and Files (4 mins)</a></p></li>
        </ul>
        <p>Before continuing, verify that you can open and display an image using the code snippet above.</p>

        <h3>Working with Pixel Values and Images</h3>

        <p>In order to access the pixels of the image, you'll need to use a few library functions. </p>
        
        <p>If you have loaded an image into a variable <code>image_original</code>, you can use that variable to perform various operations that related to the image. For example, you can get the size like this:</p>

<pre><code class="python">
width, height = image_original.size
</code></pre>

        <p>If you want to access the pixels of the image, you can use the image variable to get access to another, internal variable that holds all of the information about the pixels. You can get the pixels of the image and store them into a variable like this:</p>

<pre><code class="python">
pixels_original = image_original.load()
</code></pre>

        <p>Once you have the pixels stored in a variable, you can access the red, green, and blue (RGB) values of an individual pixel at any spot in the image, for example, the coordinates (100, 200), using the square bracket notation <code>[100, 200]</code> like this:</p>

<pre><code class="python">
r, g, b = pixels_original[100, 200]
</code></pre>

        <p>Keep in mind that 100 and 200 could be replaced with any numeric values, include variables that hold numeric values, as long as you don't choose a number larger than the image. Also, please be aware that while in mathematics, the origin (0, 0) is located in the bottom left. In computer graphics, it is located in the top left. (The reason for this is not too important, but it has to do with <a href="https://gamedev.stackexchange.com/a/83571" target="_blank">the history of computers and CRT monitors</a>.)</p>

        <p>If you display the r, g, b values that were obtained from the last code, you can learn the color of that particular pixel.</p>

        <p>Similarly, you can set new red, green, and blue values for the pixel at some x, y location in the picture like this:</p>

<pre><code class="python">
# Don't forget to use parentheses around your (r, g, b)
pixels_original[100, 200] = (r, g, b)
</code></pre>

        <p>Keep in mind that the computer always works with the red, green, and blue values in that order. If you mix up the variable names and put <code>r</code> last, the computer will not realize this, and you'll have a bug in your code.</p>

        <p>Take a minute to play around with this. Retrieve the pixel values from a few different locations. Then, set the value at a few locations to something really out of place, such as (255, 0, 255) which would be a mix of strong red and blue (a type of purple). Then, display the picture and see if you can zoom in at that spot and see the new pixel.</p>

        <p>When you are ready to save an image out to a new file, you can call the save function like this:</p>

<pre><code class="python">
image_original.save("the_file_goes_here.jpg")
</code></pre>

        <aside class="stay-middle"><heading>Frequently Asked Questions:</heading>
            <p>One variable for images one for pixels? What's going on here?</p>
            <p>This library is making use of some techniques that you will learn if you continue on to CSE 210, Programming with Classes, but in short, the image variable is used to access information about the image in general such as its size, or to perform operations like saving it. The pixel variable helps us access the value of individual pixels. It maintains a link to the pixels in the image, so that if you use the image variable later to save or display an updated image, you'll see your changes.</p>
        </aside>

        <p>Once you have reached this point, <strong>you have completed the steps of the milestone deliverable</strong>! The remaining steps are needed to complete project.</p>

        <h3>Iterating through the Pixels</h3>

        <p>Equipped with the functions above, you can combine them to get the width and the height of the image, then, loop through all the pixels (using two for loops, that are nested, one within the other) to load the RGB values for each pixel, do something to those values, and finally set new values.</p>

        <h3>Using if-statements to make Decisions</h3>
        <p>When you have the RGB values for a pixel stored in variables, you can use <code>if</code> statements to do anything you'd like with them. For example, you could say, "if g is greater than something and r and b are less than something else, do the following."</p>

        <h3>Producing and saving a new image</h3>
        <p>If you want to produce a new image (for example, a new image that will be the combined version of your green-screen and background images, you call the <code>Image.new()</code>function as follows:</p>

<pre><code class="python">
# Create a new image in RGB format that is the same size as image_original
image_new = Image.new("RGB", image_original.size)
pixels_new = image_new.load()
</code></pre>

        <p>You can set its pixels values as shown above (using the new variable <code>pixels_new</code> to hold the values of the pixels for the new image):</p>

<pre><code class="python">
pixels_new[x, y] = (r, g, b)
</code></pre>

        <p>You can show the image on the screen as shown above (keep in mind that <code>pixels_new</code> is still connected to <code>image_new</code>. So when you set the pixels in the <code>pixels_new</code> variable, you then "show" or "save" the image, using the <code>image_new</code> variable.):</p>

<pre><code class="python">
image_new.show()
</code></pre>

        <p>And you can save the image as shown above:</p>

<pre><code class="python">
image_new.save("the_new_image.jpg")
</code></pre>

        <h2>Video Demos</h2>
        <p>Whew! That is a lot of new information to process on top of the concept of loops that you are mastering this week. To help see some of these library functions and tools in action, please watch the following video demo that shows how to use these tools to load, manipulate, and display images in Python.</p>

        <ul>
            <li><p><a href="https://video.byui.edu/media/t/0_87x8umr2" target="_blank">Python Image Demo Part 1: Saving images and opening them in Python</a> (6 mins)</p></li>
            <li><p><a href="https://video.byui.edu/media/t/0_pgnj04kj" target="_blank">Python Image Demo Part 2: Getting and setting pixel values</a> (8 mins)</p></li>
            <li><p><a href="https://video.byui.edu/media/t/0_xpv0p3xf" target="_blank">Python Image Demo Part 3: Using loops to update pixels</a> (7 mins)</p></li>
            <li><p><a href="https://video.byui.edu/media/t/0_s3zuujx1" target="_blank">Python Image Demo Part 4: More tools and strategies</a> (6 mins)</p></li>
        </ul>


        <h2>Milestone Requirements</h2>
        <p>At the end of Lesson 07, to help make sure you are on track to finish the assignment, you need to complete the following:</p>
        
        <ol>
            <li><p>Download the images for this assignment, unzip them, and save them to a location on your computer.</p></li>
            <li><p>Install the image library and import it in a Python program without errors.</p></li>
            <li><p>Load an image in Python and have it shown on the screen.</p></li>
            <li><p>Retrieve and print out the numbers corresponding to the pixel RGB values for 5 different pixels.</p></li>
            <li><p>Set a new color value for 5 different pixels.</p></li>
            <li><p>Show the version of the picture on the screen and observe the changed pixels.</p></li>
        </ol>

        <h2>Final Requirements</h2>
        
        <ol>
            <!-- <li><p>Ask the user for the name of a green image, a background image, and a new file to create.</p></li> -->
            <li><p>Load a green image and a background image.</p></li>
            <li><p>Create a new image that is the same size as the other images.</p></li>
            <li><p>Iterate through all the pixels of the green image. Check to see if the green value is greater than a certain number and that the red and blue values are less than a certain number. If so, get the red, green, and blue values from the pixel at that location in the <em>background</em> image, if it's not a bright green color, get the red, green, and blue values from the pixel at that location in the green, foreground image.</p></li>
            <li><p>Set the pixel in your new image to have the appropriate red, green, and blue value, as described.</p></li>
            <li><p>Save the new image to a file.</p></li>
            <li><p>Try a few different images.</p></li>
        </ol>

        <h2>Showing Creativity and Exceeding Requirements</h2>
        <p>See if you can find some ways to show creativity and exceed the core requirements. Perhaps you could try blending images by averaging values. Perhaps you could play with different thresholds or filters. Ask the user for the location of the image files, and use those. See what you can come up with and have fun!</p>

        <h2>Submission</h2>
        <p>For the milestone submission, complete the associated I-Learn quiz that asks you to declare which of the milestone steps you successfully finished. Then, upload your code to I-Learn as well.</p>

        <p>Please be aware that the instructor will not be providing detailed feedback on the code submission for milestones. This is a chance for you to check in and show progress. Then, you'll receive detailed feedback on your final submission.</p>
        
        <p>When the final project is complete, upload your code and an image or two that you created to I-learn.</p>

    </article>

    <script src="../site/js/highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
 
</body>
</html>